/* ============================================
   Animations CSS - Keyframes and transitions
   ============================================ */

/* ============================================
   Keyframes
   ============================================ */

/* Pulse animation for CTA buttons */
@keyframes pulse {
  0%, 100% {
    box-shadow: 0 6px 18px rgba(99, 21, 21, 0.25);
  }
  50% {
    box-shadow: 0 6px 24px rgba(99, 21, 21, 0.35);
  }
}

/* Float animation for decorative elements */
@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

/* Fade in up animation */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Fade in animation */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Scale in animation */
@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Slide in from left */
@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Slide in from right */
@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Character disintegration effect */
@keyframes charReveal {
  from {
    opacity: 0;
    transform: translateY(20px) rotate(-5deg);
  }
  to {
    opacity: 1;
    transform: translateY(0) rotate(0);
  }
}

/* Circle zoom animation */
@keyframes circleZoom {
  from {
    transform: translate(50%, 50%) scale(1);
  }
  to {
    transform: translate(50%, 50%) scale(var(--scale, 10));
  }
}

/* Highlight pulse - subtle scale pulse for highlights */
@keyframes highlightPulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

/* Subtle pulse for highlight circles and overlays - scale 0.98-1.02 */
@keyframes subtlePulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

/* SVG stroke drawing effect */
@keyframes svgDraw {
  from {
    stroke-dashoffset: 1000;
  }
  to {
    stroke-dashoffset: 0;
  }
}

/* ============================================
   Animation Classes
   ============================================ */

/* Apply fade-in-up animation */
.animate-fade-in-up {
  animation: fadeInUp var(--duration-normal) var(--ease-smooth) forwards;
}

/* Apply fade-in animation */
.animate-fade-in {
  animation: fadeIn var(--duration-normal) ease forwards;
}

/* Apply scale-in animation */
.animate-scale-in {
  animation: scaleIn var(--duration-normal) var(--ease-smooth) forwards;
}

/* Apply slide-in-left animation */
.animate-slide-left {
  animation: slideInLeft var(--duration-normal) var(--ease-smooth) forwards;
}

/* Apply slide-in-right animation */
.animate-slide-right {
  animation: slideInRight var(--duration-normal) var(--ease-smooth) forwards;
}

/* Character stagger animation */
.char-stagger .char {
  animation: charReveal 0.4s var(--ease-smooth) forwards;
  animation-delay: calc(var(--char-index, 0) * 0.03s);
}

/* Pulse effect */
.pulse {
  animation: pulse 2s ease-in-out infinite;
}

/* Float effect */
.floating {
  animation: float 3s ease-in-out infinite;
}

/* Highlight pulse effect - subtle scale pulse */
.highlight-pulse {
  animation: subtlePulse 3s ease-in-out infinite;
}

/* SVG draw effect class */
.svg-draw {
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
  animation: svgDraw 2s var(--ease-smooth) forwards;
}

/* ============================================
   Transition Utilities
   ============================================ */

/* Fast transition */
.transition-fast {
  transition: all var(--duration-fast) ease;
}

/* Normal transition */
.transition-normal {
  transition: all var(--duration-normal) ease;
}

/* Slow transition */
.transition-slow {
  transition: all var(--duration-slow) ease;
}

/* Smooth easing transition */
.transition-smooth {
  transition: all var(--duration-normal) var(--ease-smooth);
}

/* Transform only transition */
.transition-transform {
  transition: transform var(--duration-normal) var(--ease-smooth);
}

/* Opacity only transition */
.transition-opacity {
  transition: opacity var(--duration-normal) ease;
}

/* ============================================
   Stagger Delays
   ============================================ */
.stagger-1 { transition-delay: 0.1s; }
.stagger-2 { transition-delay: 0.2s; }
.stagger-3 { transition-delay: 0.3s; }
.stagger-4 { transition-delay: 0.4s; }
.stagger-5 { transition-delay: 0.5s; }

/* ============================================
   Performance Hints
   ============================================ */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

.will-change-both {
  will-change: transform, opacity;
}

/* GPU acceleration */
.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* ============================================
   Reduced Motion - Accessibility
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  /* Show all elements immediately */
  .hero__title,
  .hero__desc,
  .hero__cta,
  .flip-card-wrapper,
  .problem__title,
  .problem__subtitle,
  .future-outlook__title-item,
  .solution-text__item,
  .solution-matrix__visual,
  .solution-matrix__items,
  .solution-resource-fit__title-wrap,
  .solution-resource-fit__visual,
  .solution-opportunity__title-wrap,
  .solution-opportunity__visual,
  .growth__title,
  .growth__svg,
  .strategy__heading,
  .strategy__svg,
  .resources__heading,
  .resources__link-block,
  .resources__book {
    opacity: 1 !important;
    transform: none !important;
  }
  
  /* 移除 .future-circle 的強制顯示，因為它是 scroll-scrubbed，不應該在動畫完成後強制顯示 */
  /* .future-circle 由 JavaScript 根據 scroll progress 動態控制 */
  
  /* Skip flip animation */
  .flip-card.flipped {
    transform: none !important;
  }
  
  .flip-card__back {
    transform: none !important;
    opacity: 1;
    position: relative;
  }
  
  .flip-card__front {
    display: none;
  }
  
  /* Hide transition elements */
  .circle-transition {
    display: none !important;
  }
}
